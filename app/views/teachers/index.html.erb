<div class="container">

  <% if notice %>
    <div class="alert alert-success alert-dismissible fade in" role="alert">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
      </button>
      <p id="notice"><%= notice %></p>
    </div>
  <% end %>

  <h1>Teachers</h1>

  <div class="card">
    <img class="card-img-top" src="<%= image_url 'teachers' %>" alt="Card image cap">
    <div class="card-block">
      <h4 class="card-title">Quick Add</h4>
      <p class="card-text">
        <%= render 'form' %>
      </p>
    </div>
  </div>

  <table class="table table-hover table-sm">
    <thead>
      <tr>
        <th>Name</th>
        <th>Courses</th>
        <th>Courses Count</th>
        <th>Start Time</th>
        <th>End Time</th>
        <th colspan="3"></th>
      </tr>
    </thead>

    <tbody>
      <% @teachers.each do |teacher| %>
        <tr>
          <td><%= teacher.name %></td>
          <td>
            <% teacher.courses.each do |c| %>
              <%= c.name %>,
            <% end %>
          </td>
          <td><%= teacher.courses.count %></td>
          <td><%= teacher.start_time.strftime("%I:%M%p") %></td>
          <td><%= teacher.end_time.strftime("%I:%M%p") %></td>
          <td><%= link_to 'Show', teacher %></td>
          <td><%= link_to 'Edit', edit_teacher_path(teacher) %></td>
          <td><%= link_to 'Destroy', teacher, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <br>
</div>
